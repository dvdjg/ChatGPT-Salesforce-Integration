conversation__r:AI_obj_Conversation__c:ExternalId__c	Name	role__c	content__c
First	PR-00000	system	You act as the middleman between USER and a DATABASE. Your main goal is to answer questions based on data stored in a Salesforce CRM database (SERVER). You do this by executing valid queries against the database and interpreting the results to answer the questions from the USER.
First	PR-00001	user	From now you will only ever respond with JSON. When you want to address the user, you use the following format {"recipient": "USER", "message":"message for the user"}.
First	PR-00002	assistant	{"recipient": "USER", "message":"I understand."}
First	PR-00003	user	You can access Salesforce by using the SERVER recipient. When calling the server, you must also specify an action. The action can be QUERY when you want to query the database with a SOQL, or APEX  when you want to run a piece of APEX code. User will return the content of the variable 'result' if defined. The format you will use for an insert operation returning its Id is as follows {"recipient":"SERVER", "action":"APEX", "message":"Account acc = new Account(Name = 'Acme Corp.'); insert acc; Id result = acc.Id;"}. The format you will use for an upsert operation is as follows {"recipient":"SERVER", "action":"APEX", "message":"LEAD l = new Lead(LastName = 'testLead', Company = 'testCompany', ExternalId__c = 'NUM-0001') ExternalId__c; upsert l; Id result = l.Id;"}. The format you will use for query uses SOQL as follows: {"recipient":"SERVER", "action":"QUERY", "message":"SELECT Id, CaseNumber, Subject, Description, Status, CreatedDate FROM Case WHERE CaseNumber = '00001002'"}. When a successfull QUERY is performed, the data will be returned by the user.
First	PR-00004	user	Let's start! I want to know all the cases for a contact identified by its Email asong@uog.com or Phone (212) 842-5500 , in the last year.
First	PR-00005	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT Id, CaseNumber, Status, Priority, Origin, Subject, Description, CreatedDate, Contact.Name FROM Case WHERE (Contact.Email = 'asong@uog.com' OR Contact.Phone = '(212) 842-5500') AND CreatedDate >= LAST_N_DAYS:365"}
First	PR-00006	user	"{
    ""status"": 0,
    ""result"": {
        ""records"": [{
                ""attributes"": {
                    ""type"": ""Case"",
                    ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYf8QAF""
                },
                ""Id"": ""5007R00003XpYf8QAF"",
                ""CaseNumber"": ""00001001"",
                ""Status"": ""Closed"",
                ""Priority"": ""High"",
                ""Origin"": ""Phone"",
                ""Subject"": ""Performance inadequate for second consecutive week"",
                ""Description"": null,
                ""CreatedDate"": ""2023-05-23T15:04:02.000+0000"",
                ""Contact"": {
                    ""attributes"": {
                        ""type"": ""Contact"",
                        ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJoHQAX""
                    },
                    ""Name"": ""Avi Green""
                }
            }, {
                ""attributes"": {
                    ""type"": ""Case"",
                    ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYf9QAF""
                },
                ""Id"": ""5007R00003XpYf9QAF"",
                ""CaseNumber"": ""00001002"",
                ""Status"": ""New"",
                ""Priority"": ""Low"",
                ""Origin"": ""Web"",
                ""Subject"": ""Seeking guidance on electrical wiring installation for GC5060"",
                ""Description"": null,
                ""CreatedDate"": ""2023-05-23T15:04:02.000+0000"",
                ""Contact"": {
                    ""attributes"": {
                        ""type"": ""Contact"",
                        ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo7QAH""
                    },
                    ""Name"": ""Stella Pavlova""
                }
            }, {
                ""attributes"": {
                    ""type"": ""Case"",
                    ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYfSQAV""
                },
                ""Id"": ""5007R00003XpYfSQAV"",
                ""CaseNumber"": ""00001021"",
                ""Status"": ""Closed"",
                ""Priority"": ""High"",
                ""Origin"": ""Phone"",
                ""Subject"": ""Generator GC3060 platform structure is weakening"",
                ""Description"": null,
                ""CreatedDate"": ""2023-05-23T15:04:02.000+0000"",
                ""Contact"": {
                    ""attributes"": {
                        ""type"": ""Contact"",
                        ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo7QAH""
                    },
                    ""Name"": ""Stella Pavlova""
                }
            }, {
                ""attributes"": {
                    ""type"": ""Case"",
                    ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYfTQAV""
                },
                ""Id"": ""5007R00003XpYfTQAV"",
                ""CaseNumber"": ""00001022"",
                ""Status"": ""Closed"",
                ""Priority"": ""Medium"",
                ""Origin"": ""Web"",
                ""Subject"": ""Signal panel on GC5060 blinks intermittently"",
                ""Description"": null,
                ""CreatedDate"": ""2023-05-23T15:04:02.000+0000"",
                ""Contact"": {
                    ""attributes"": {
                        ""type"": ""Contact"",
                        ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo7QAH""
                    },
                    ""Name"": ""Stella Pavlova""
                }
            }, {
                ""attributes"": {
                    ""type"": ""Case"",
                    ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYfUQAV""
                },
                ""Id"": ""5007R00003XpYfUQAV"",
                ""CaseNumber"": ""00001023"",
                ""Status"": ""Closed"",
                ""Priority"": ""High"",
                ""Origin"": ""Phone"",
                ""Subject"": ""Electric surge damaging adjacent equipment"",
                ""Description"": null,
                ""CreatedDate"": ""2023-05-23T15:04:02.000+0000"",
                ""Contact"": {
                    ""attributes"": {
                        ""type"": ""Contact"",
                        ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo7QAH""
                    },
                    ""Name"": ""Stella Pavlova""
                }
            }, {
                ""attributes"": {
                    ""type"": ""Case"",
                    ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYfVQAV""
                },
                ""Id"": ""5007R00003XpYfVQAV"",
                ""CaseNumber"": ""00001024"",
                ""Status"": ""New"",
                ""Priority"": ""Low"",
                ""Origin"": ""Web"",
                ""Subject"": ""Design issue with mechanical rotor"",
                ""Description"": null,
                ""CreatedDate"": ""2023-05-23T15:04:02.000+0000"",
                ""Contact"": {
                    ""attributes"": {
                        ""type"": ""Contact"",
                        ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo8QAH""
                    },
                    ""Name"": ""Lauren Boyle""
                }
            }, {
                ""attributes"": {
                    ""type"": ""Case"",
                    ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYfWQAV""
                },
                ""Id"": ""5007R00003XpYfWQAV"",
                ""CaseNumber"": ""00001025"",
                ""Status"": ""Closed"",
                ""Priority"": ""Medium"",
                ""Origin"": ""Phone"",
                ""Subject"": ""Motor design hindering performance"",
                ""Description"": null,
                ""CreatedDate"": ""2023-05-23T15:04:02.000+0000"",
                ""Contact"": {
                    ""attributes"": {
                        ""type"": ""Contact"",
                        ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo8QAH""
                    },
                    ""Name"": ""Lauren Boyle""
                }
            }
        ],
        ""totalSize"": 7,
        ""done"": true
    }
}"
First	PR-00007	assistant	{"recipient": "USER", "message":"I found seven Cases."}
First	PR-00008	user	Tell me the ones you find with the status New.
First	PR-00009	assistant	{"recipient": "USER", "message":"I found one Case with number 00001002. It was created on May 23, 2023, at 15:04 with the subject 'Seeking guidance on electrical wiring installation for GC5060'."}
First	PR-00010	user	Thanks!. Please give me the case description.
First	PR-00011	assistant	{"recipient": "USER", "message":"The case 00001002 has no description. Would you like more information about the case?"}
First	PR-00012	user	Yes!. Give me contact and account information related to this case.
First	PR-00013	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT Id, Contact.Id, Contact.Name, Contact.Email, Contact.Phone, Account.Id, Account.Name, Account.BillingAddress FROM Case WHERE CaseNumber = '00001002'"}
First	PR-00014	user	"{
  ""status"": 0,
  ""result"": {
    ""records"": [
      {
        ""attributes"": {
          ""type"": ""Case"",
          ""url"": ""/services/data/v55.0/sobjects/Case/5007R00003XpYf9QAF""
        },
        ""Id"": ""5007R00003XpYf9QAF"",
        ""Contact"": {
          ""attributes"": {
            ""type"": ""Contact"",
            ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo7QAH""
          },
          ""Id"": ""0037R00003JDJo7QAH"",
          ""Name"": ""Stella Pavlova"",
          ""Email"": ""spavlova@uog.com"",
          ""Phone"": ""(212) 842-5500""
        },
        ""Account"": {
          ""attributes"": {
            ""type"": ""Account"",
            ""url"": ""/services/data/v55.0/sobjects/Account/0017R00002wgqvxQAA""
          },
          ""Id"": ""0017R00002wgqvxQAA"",
          ""Name"": ""United Oil & Gas Corp."",
          ""BillingAddress"": {
            ""city"": ""New York"",
            ""country"": null,
            ""geocodeAccuracy"": null,
            ""latitude"": null,
            ""longitude"": null,
            ""postalCode"": null,
            ""state"": ""NY"",
            ""street"": ""1301 Avenue of the Americas \nNew York, NY 10019\nUSA""
          }
        }
      }
    ],
    ""totalSize"": 1,
    ""done"": true
  }
}"
First	PR-00015	assistant	{"recipient": "USER", "message":"The case belongs to Stella Pavlova. She can be reached via email at spavlova@uog.com or by phone at (212) 842-5500. Stella is associated with an account named United Oil & Gas Corp. The account is located at 1301 Avenue of the Americas in New York, with a ZIP code of 10019."}
First	PR-00016	assistant	{"recipient": "USER", "message":"Is there anything else I can help you with?"}
First	PR-00017	user	please, modify the Stella surname. It is Paulova.
First	PR-00018	assistant	{"recipient":"SERVER", "action":"APEX", "message":"Case caseToUpdate = [SELECT Id, ContactId FROM Case WHERE CaseNumber = '00001002']; Contact contactToUpdate = new Contact(Id = caseToUpdate.ContactId, LastName = 'Paulova'); update contactToUpdate; Id result = contactToUpdate.Id;"}
First	PR-00019	user	0037R00003JDJo7QAH
First	PR-00020	assistant	{"recipient": "USER", "message":"The contact's last name has been updated to 'Paulova'."}
First	PR-00021	user	Put a case comment with the text "Paulova is the best!"
First	PR-00022	assistant	{"recipient":"SERVER", "action":"APEX", "message":"CaseComment comment = new CaseComment(ParentId = '5007R00003XpYf9QAF', CommentBody = 'Paulova is the best!'); insert comment; Id result = comment.Id;"}
First	PR-00023	user	00a7R00001NVyyGQAT
First	PR-00024	assistant	{"recipient": "USER", "message":"A comment has been added to the case."}
First	PR-00025	user	Add a feed item to the case with the same text.
First	PR-00026	assistant	{"recipient":"SERVER", "action":"APEX", "message":"FeedItem post = new FeedItem(ParentId = '5007R00003XpYf9QAF', Body = 'Paulova is the best!'); insert post; Id result = post.Id;"}
First	PR-00027	user	0D57R0000Bwrh2RSQQ
First	PR-00028	assistant	{"recipient": "USER", "message":"A feed item has been added to the case."}
First	PR-00029	user	¿Te puedo preguntar en español?
First	PR-00030	assistant	{"recipient": "USER", "message":"¡Por supuesto! Estoy aquí para ayudarte en lo que necesites."}
First	PR-00031	user	¿Cuántos casos tiene abiertos Paulova?
First	PR-00032	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT COUNT(Id) FROM Case WHERE ContactId = '0037R00003JDJo7QAH' AND IsClosed = false"}
First	PR-00033	user	"{
  ""status"": 0,
  ""result"": {
    ""records"": [
      {
        ""attributes"": {
          ""type"": ""AggregateResult""
        },
        ""expr0"": 1
      }
    ],
    ""totalSize"": 1,
    ""done"": true
  }
}"
First	PR-00034	assistant	{"recipient": "USER", "message":"Actualmente, Paulova tiene 1 caso abierto."}
First	PR-00035	user	¿Cuántos casos tiene cerrados Paulova?
First	PR-00036	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT COUNT(Id) FROM Case WHERE ContactId = '0037R00003JDJo7QAH' AND IsClosed = true"}
First	PR-00037	user	"{
  ""status"": 0,
  ""result"": {
    ""records"": [
      {
        ""attributes"": {
          ""type"": ""AggregateResult""
        },
        ""expr0"": 1
      }
    ],
    ""totalSize"": 1,
    ""done"": true
  }
}"
First	PR-00038	assistant	{"recipient": "USER", "message":"Paulova tiene 3 casos cerrados."}
First	PR-00039	user	¿Cuál es el caso de Paulova que se ha cerrado más recientemente?
First	PR-00040	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT Id, CaseNumber, Status, Priority, Origin, Subject, Description, CreatedDate, ClosedDate FROM Case WHERE ContactId = '0037R00003JDJo7QAH' AND IsClosed = true ORDER BY ClosedDate DESC LIMIT 1"}
First	PR-00041	user	"""Id"",""CaseNumber"",""Status"",""Priority"",""Origin"",""Subject"",""Description"",""CreatedDate"",""ClosedDate""
""5007R00003XpYfSQAV"",""00001021"",""Closed"",""High"",""Phone"",""Generator GC3060 platform structure is weakening"","""",""2023-05-23T15:04:02.000+0000"",""2015-07-28T18:59:51.000+0000"""
First	PR-00042	assistant	{"recipient": "USER", "message":"El caso más reciente cerrado de Paulova es el número 00001021. Fue cerrado el 28 de julio de 2015 y su asunto es 'Generator GC3060 platform structure is weakening'."}
First	PR-00043	user	¿A qué hora fue cerrado?
First	PR-00044	assistant	{"recipient": "USER", "message":"El caso 00001021 fue cerrado a las 18:59:51 UTC."}
First	PR-00045	user	Y en el horario de Madrid?
First	PR-00046	assistant	{"recipient": "USER", "message":"Madrid está 2 horas adelantado de UTC en verano, por lo que la hora local de Madrid sería las 20:59:51."}
First	PR-00047	user	Y en Islas Canarias?
First	PR-00048	assistant	{"recipient": "USER", "message":"Las Islas Canarias están 1 hora detrás de la hora de Madrid en verano, por lo que la hora local en las Islas Canarias sería las 19:59:51."}
First	PR-00049	user	Cuántas oportunidades ganadas tiene?
First	PR-00050	assistant	{"recipient": "USER", "message":"¿El sistema o Paulova?"}
First	PR-00051	user	Paulova
First	PR-00052	assistant	"{""recipient"":""SERVER"", ""action"":""QUERY"", ""message"":""SELECT COUNT(Id) FROM Opportunity WHERE AccountId IN ( SELECT AccountId FROM Contact WHERE Id = '0037R00003JDJo7QAH') AND IsClosed = true AND StageName = 'C
losed Won'""}"
First	PR-00053	user	"{
  ""status"": 0,
  ""result"": {
    ""records"": [
      {
        ""attributes"": {
          ""type"": ""AggregateResult""
        },
        ""expr0"": 6
      }
    ],
    ""totalSize"": 1,
    ""done"": true
  }
}"
First	PR-00054	assistant	{"recipient": "USER", "message":"Actualmente, Paulova tiene 6 oportunidades ganadas."}
First	PR-00055	user	Busca la cuenta con más oportunidades ganadas
First	PR-00056	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT AccountId, Account.Name, COUNT(Id) FROM Opportunity WHERE StageName = 'Closed Won' GROUP BY AccountId, Account.Name ORDER BY COUNT(Id) DESC LIMIT 1"}
First	PR-00057	user	"{
  ""status"": 0,
  ""result"": {
    ""records"": [
      {
        ""attributes"": {
          ""type"": ""AggregateResult""
        },
        ""AccountId"": ""0017R00002wgqvxQAA"",
        ""Name"": ""United Oil & Gas Corp."",
        ""expr0"": 6
      }
    ],
    ""totalSize"": 1,
    ""done"": true
  }
}"
First	PR-00058	assistant	{"recipient": "USER", "message":"La cuenta con más oportunidades ganadas es 'United Oil & Gas Corp.' con un total de 6 oportunidades ganadas."}
First	PR-00059	user	¿Quiénes son sus contactos?
First	PR-00060	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT Id, Name, Email, Phone FROM Contact WHERE AccountId = '0017R00002wgqvxQAA'"}
First	PR-00061	user	"{
  ""status"": 0,
  ""result"": {
    ""records"": [
      {
        ""attributes"": {
          ""type"": ""Contact"",
          ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo7QAH""
        },
        ""Id"": ""0037R00003JDJo7QAH"",
        ""Name"": ""Stella Pavlova"",
        ""Email"": ""spavlova@uog.com"",
        ""Phone"": ""(212) 842-5500""
      },
      {
        ""attributes"": {
          ""type"": ""Contact"",
          ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJo8QAH""
        },
        ""Id"": ""0037R00003JDJo8QAH"",
        ""Name"": ""Lauren Boyle"",
        ""Email"": ""lboyle@uog.com"",
        ""Phone"": ""(212) 842-5500""
      },
      {
        ""attributes"": {
          ""type"": ""Contact"",
          ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJoCQAX""
        },
        ""Id"": ""0037R00003JDJoCQAX"",
        ""Name"": ""Arthur Song"",
        ""Email"": ""asong@uog.com"",
        ""Phone"": ""(212) 842-5500""
      },
      {
        ""attributes"": {
          ""type"": ""Contact"",
          ""url"": ""/services/data/v55.0/sobjects/Contact/0037R00003JDJoHQAX""
        },
        ""Id"": ""0037R00003JDJoHQAX"",
        ""Name"": ""Avi Green"",
        ""Email"": ""agreen@uog.com"",
        ""Phone"": ""(212) 842-5500""
      }
    ],
    ""totalSize"": 4,
    ""done"": true
  }
}"
First	PR-00062	assistant	{"recipient": "USER", "message":"Los contactos asociados a United Oil & Gas Corp. son Stella Paulova, Lauren Boyle, Arthur Song y Avi Green."}
Second	PR-00000	system	You act as the middleman between USER and a DATABASE. Your main goal is to answer questions based on data stored in a Salesforce CRM database (SERVER). You do this by executing valid queries against the database and interpreting the results to answer the questions from the USER.
Second	PR-00001	user	From now you will only ever respond with JSON. When you want to address the user, you use the following format {"recipient": "USER", "message":"message for the user"}.
Second	PR-00002	assistant	{"recipient": "USER", "message":"I understand."}
Second	PR-00003	user	You can access Salesforce org by using the SERVER recipient. When calling the server, you must also specify an action. The action can be QUERY when you want to query the database with a SOQL, or APEX  when you want to run a piece of APEX code. User will return the content of the variable 'result' if defined. The format you will use for an insert operation returning its Id is as follows {"recipient":"SERVER", "action":"APEX", "message":"Account acc = new Account(Name = 'Acme Corp.'); insert acc; Id result = acc.Id;"}. The format you will use for an upsert operation is as follows {"recipient":"SERVER", "action":"APEX", "message":"LEAD l = new Lead(LastName = 'testLead', Company = 'testCompany', ExternalId__c = 'NUM-0001') ExternalId__c; upsert l; Id result = l.Id;"}. The format you will use for query uses SOQL as follows: {"recipient":"SERVER", "action":"QUERY", "message":"SELECT Id, CaseNumber, Subject, Description, Status, CreatedDate FROM Case WHERE CaseNumber = '00001002'"}. When a successfull QUERY is performed, the data will be returned by the user as a string.
Second	PR-00004	user	Let's start! I want to know all the cases for a contact identified by its Email asong@uog.com or Phone (212) 842-5500 , in the last year.
Second	PR-00005	assistant	{"recipient":"SERVER", "action":"QUERY", "message":"SELECT Id, Subject, Description, Status, CreatedDate FROM Case WHERE ContactEmail = 'asong@uog.com' OR ContactPhone = '+12128425500' AND CreatedDate > LAST_YEAR"}
Second	PR-00006	user	ERROR: unexpected token: AND
Second	PR-00007	assistant	"I apologize for the error. Here's the corrected query:

{""recipient"":""SERVER"", ""action"":""QUERY"", ""message"":""SELECT Id, Subject, Description, Status, CreatedDate FROM Case WHERE (ContactEmail = 'asong@uog.com' OR ContactPhone = '+12128425500') AND CreatedDate > LAST_YEAR""}"
